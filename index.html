<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Insight - Latest AI News and Analysis</title>
  <meta name="description" content="Stay updated with the latest AI developments and in-depth analysis from AI Insight">
  <link rel="canonical" href="https://cryptoroom203.github.io/AI-insight/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="AI Insight">
  <meta property="og:description" content="Latest AI Insight and chain of thought">
  <meta property="og:url" content="https://cryptoroom203.github.io/AI-insight/">

  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "AI Insight",
    "url": "https://cryptoroom203.github.io/AI-insight/",
    "description": "Latest AI news and analysis",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <style>
    /* Original styles remain unchanged */
    body { font-family: Verdana, sans-serif; background-color: #f6f6ef; margin: 0; padding: 0; }
    .header { background-color: #ff6600; color: #000; padding: 10px; text-align: center; font-size: 24px; font-weight: bold; }
    .container { width: 90%; max-width: 800px; margin: 20px auto; }
    .news-item { padding: 8px 0; border-bottom: 1px solid #e0e0e0; }
    .news-item a { color: #000; text-decoration: none; font-size: 16px; cursor: pointer; }
    .news-item a:hover { text-decoration: underline; }
    .subtext { margin-top: 4px; color: #828282; font-size: 12px; }
    #story { display: none; padding: 10px; background-color: #fff; border: 1px solid #e0e0e0; margin-bottom: 20px; position: relative; }
    #close-story { position: absolute; top: 10px; right: 10px; background: #ff6600; color: #000; border: none; padding: 5px 10px; cursor: pointer; }
    #story-content { margin-top: 40px; white-space: pre-wrap; font-family: Verdana; overflow: auto; line-height: 2rem; }
    footer { text-align: center; padding: 10px 0; font-size: 12px; color: #828282; border-top: 1px solid #e0e0e0; margin-top: 20px; }
    footer a { color: #828282; text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    /* New SEO-optimized styles */
    h1 { font-size: 2rem; margin-bottom: 1rem; }
    time { color: #828282; display: block; margin-bottom: 2rem; }
    .story-content { font-size: 1.1rem; line-height: 1.6; max-width: 65ch; margin: 0 auto; }
    [role="main"] { position: relative; }
  </style>
</head>
<body>
  <nav class="header" aria-label="Main navigation">AI Insight</nav>
  
  <main class="container" role="main">
    <article id="story" role="article">
      <button id="close-story" aria-label="Close story">X</button>
      <h1 id="story-title"></h1>
      <time id="story-time" datetime=""></time>
      <div class="story-content" id="story-content"></div>
    </article>

    <div id="news" role="list">
      <!-- News items will be inserted here -->
    </div>
  </main>

  <footer>
    <p>Â© 2023 AI Insight. All rights reserved.</p>
    <p><a href="/about">About Us</a> | <a href="/privacy">Privacy Policy</a></p>
  </footer>

  <script>
    // Enhanced SEO-friendly functionality
    function loadStory(uuid) {
      fetch(`/mind/stories/${uuid}.txt`)
        .then(response => {
          if (!response.ok) throw new Error('Story not found');
          return response.text();
        })
        .then(text => {
          document.getElementById("news").style.display = "none";
          document.getElementById("story-content").textContent = text;
          document.getElementById("story").style.display = "block";
          document.title = `${document.querySelector(`[data-uuid="${uuid}"]`).textContent} - AI Insight`;
        })
        .catch(console.error);
    }

    function showNewsList() {
      document.getElementById("story").style.display = "none";
      document.getElementById("news").style.display = "block";
      document.title = "AI Insight - Latest AI News and Analysis";
    }

    // History API handling
    window.addEventListener('popstate', (event) => {
      event.state?.uuid ? loadStory(event.state.uuid) : showNewsList();
    });

    // Initial load
    document.addEventListener('DOMContentLoaded', () => {
      const pathSegments = window.location.pathname.split('/').filter(Boolean);
      if (pathSegments[0] === 'story' && pathSegments[1]) {
        loadStory(pathSegments[1]);
      }

      // News list setup
      fetch('/mind/mind.csv')
        .then(response => response.text())
        .then(text => {
          const newsContainer = document.getElementById("news");
          const items = text.trim().split("\n").map(line => {
            const [timestamp, uuid, heading] = line.split(/,/).map(s => s.trim());
            return { timestamp, uuid, heading };
          });

          newsContainer.innerHTML = items.map((item, index) => `
            <section class="news-item" role="listitem">
              <span>${index + 1}.</span>
              <a href="/story/${item.uuid}" data-uuid="${item.uuid}">${item.heading}</a>
              <div class="subtext">
                <time datetime="${item.timestamp}">${new Date(item.timestamp).toLocaleDateString()}</time>
              </div>
            </section>
          `).join('');

          document.querySelectorAll('.news-item a').forEach(link => {
            link.addEventListener('click', (e) => {
              e.preventDefault();
              const uuid = link.dataset.uuid;
              window.history.pushState({ uuid }, '', `/story/${uuid}`);
              loadStory(uuid);
            });
          });
        });
    });

    document.getElementById("close-story").addEventListener("click", () => {
      window.history.pushState(null, '', '/');
      showNewsList();
    });
  </script>
</body>
</html>
